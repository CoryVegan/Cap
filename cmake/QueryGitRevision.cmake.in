EXECUTE_PROCESS(
    COMMAND @GIT_EXECUTABLE@ rev-parse HEAD
    WORKING_DIRECTORY @CMAKE_SOURCE_DIR@
    OUTPUT_VARIABLE GIT_COMMIT_HASH
    OUTPUT_STRIP_TRAILING_WHITESPACE
    )
EXECUTE_PROCESS(
    COMMAND @GIT_EXECUTABLE@ rev-parse --abbrev-ref HEAD
    WORKING_DIRECTORY @CMAKE_SOURCE_DIR@
    OUTPUT_VARIABLE GIT_BRANCH
    OUTPUT_STRIP_TRAILING_WHITESPACE
    )
EXECUTE_PROCESS(
    COMMAND @GIT_EXECUTABLE@ rev-parse --symbolic-full-name HEAD
    WORKING_DIRECTORY @CMAKE_SOURCE_DIR@
    OUTPUT_VARIABLE GIT_HEAD_REF
    OUTPUT_STRIP_TRAILING_WHITESPACE
    )
EXECUTE_PROCESS(
    COMMAND @GIT_EXECUTABLE@ ls-remote --get-url
    WORKING_DIRECTORY @CMAKE_SOURCE_DIR@
    OUTPUT_VARIABLE GIT_REMOTE_URL
    OUTPUT_STRIP_TRAILING_WHITESPACE
    )
MESSAGE("GIT_HEAD_REF=${GIT_HEAD_REF}")
MESSAGE("GIT_COMMIT_HASH=${GIT_COMMIT_HASH}")
MESSAGE("GIT_BRANCH=${GIT_BRANCH}")
MESSAGE("GIT_REMOTE_URL=${GIT_REMOTE_URL}")
CONFIGURE_FILE(
    @CMAKE_SOURCE_DIR@/cmake/version.cc.in
    @CMAKE_BINARY_DIR@/cpp/source/version.cc
    )
